<div class="container d-flex justify-content-center align-items-center" style="min-height: 100vh;">
  <div class="col-lg-8 col-md-10 col-sm-12">
    <div class="card">
      <div class="card-body">
        <!-- Title Section -->
        <div class="text-center mb-4">
          <h1 class="card-title">Somosot</h1>
          <p class="card-text text-muted">Create your account by filling the form below</p>
        </div>

        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
          <!-- Name Section -->
          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="firstName">First Name <span class="text-danger">*</span></label>
              <input
                id="firstName"
                type="text"
                class="form-control"
                placeholder="First Name"
                formControlName="firstName"
              />
              <small class="text-danger" *ngIf="registerForm.get('firstName')?.touched && registerForm.get('firstName')?.invalid">
                First Name is required.
              </small>
            </div>
            <div class="col-md-6 mb-3">
              <label for="lastName">Last Name <span class="text-danger">*</span></label>
              <input
                id="lastName"
                type="text"
                class="form-control"
                placeholder="Last Name"
                formControlName="lastName"
              />
              <small class="text-danger" *ngIf="registerForm.get('lastName')?.touched && registerForm.get('lastName')?.invalid">
                Last Name is required.
              </small>
            </div>
          </div>

          <!-- Birthday and Gender -->
          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="dateOfBirth">Date of Birth <span class="text-danger">*</span></label>
              <input
                id="dateOfBirth"
                type="date"
                class="form-control"
                formControlName="dateOfBirth"
              />
              <small class="text-danger" *ngIf="registerForm.get('dateOfBirth')?.touched && registerForm.get('dateOfBirth')?.invalid">
                Date of Birth is required.
              </small>
            </div>
            <div class="col-md-6 mb-3">
              <label for="gender">Gender <span class="text-danger">*</span></label>
              <select
                id="gender"
                class="form-control"
                formControlName="gender"
              >
                <option value="" disabled>Select Gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
              </select>
              <small class="text-danger" *ngIf="registerForm.get('gender')?.touched && registerForm.get('gender')?.invalid">
                Gender is required.
              </small>
            </div>
          </div>

          <!-- Address and Mobile -->
          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="address">Address <span class="text-danger">*</span></label>
              <input
                id="address"
                type="text"
                class="form-control"
                placeholder="Address"
                formControlName="address"
              />
              <small class="text-danger" *ngIf="registerForm.get('address')?.touched && registerForm.get('address')?.invalid">
                Address is required.
              </small>
            </div>
            <div class="col-md-6 mb-3">
              <label for="mobile">Mobile Number <span class="text-danger">*</span></label>
              <input
                id="mobile"
                type="text"
                class="form-control"
                placeholder="Mobile Number"
                formControlName="mobile"
              />
              <small
                class="text-danger"
                *ngIf="registerForm.get('mobile')?.touched && registerForm.get('mobile')?.invalid"
              >
                A valid Mobile Number is required.
              </small>
            </div>
          </div>

          <!-- Email and Profile Picture -->
          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="email">Email <span class="text-danger">*</span></label>
              <input
                id="email"
                type="email"
                class="form-control"
                placeholder="Email"
                formControlName="email"
              />
              <small class="text-danger" *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.invalid">
                A valid Email is required.
              </small>
            </div>
            <div class="col-md-6 mb-3">
              <label for="profilePicture">Profile Picture <span class="text-danger">*</span></label>
              <input
                type="file"
                id="profilePicture"
                class="form-control"
                (change)="handleFileInput($event)"
              />
              <small class="text-muted">Only images are allowed</small>
              <div *ngIf="registerForm.get('profilePicture')?.invalid && registerForm.get('profilePicture')?.touched" class="text-danger">
                Profile picture is required.
              </div>
            </div>
          </div>

          <!-- Password Section -->
          <div class="row">
            <div class="col-md-6 mb-3">
              <label for="password">Password <span class="text-danger">*</span></label>
              <input
                id="password"
                type="password"
                class="form-control"
                placeholder="Password"
                formControlName="password"
                (input)="checkPasswordStrength()"
              />
              <small class="text-danger" *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid">
                Password must be at least 8 characters.
              </small>
            </div>
            <div class="col-md-6 mb-3">
              <label for="confirmPassword">Confirm Password <span class="text-danger">*</span></label>
              <input
                id="confirmPassword"
                type="password"
                class="form-control"
                placeholder="Confirm Password"
                formControlName="confirmPassword"
              />
              <small class="text-danger" *ngIf="registerForm.get('confirmPassword')?.value !== registerForm.get('password')?.value">
                Passwords must match.
              </small>
            </div>
          </div>

          <!-- Password Strength -->
          <div class="mb-3">
            <label>Password Strength</label>
            <div class="progress">
              <div
                class="progress-bar"
                [ngClass]="{
                  'bg-danger': progressBarWidth < 40,
                  'bg-warning': progressBarWidth >= 40 && progressBarWidth < 60,
                  'bg-primary': progressBarWidth >= 60 && progressBarWidth < 80,
                  'bg-success': progressBarWidth >= 80,
                  'progress-bar-striped': true
                }"
                role="progressbar"
                [style.width.%]="progressBarWidth"
              ></div>
            </div>
            <small class="text-muted">{{ passwordStrength }}</small>
          </div>

          <!-- Submit Button -->
          <div class="mt-4">
            <button
              type="submit"
              class="btn btn-primary btn-block"
              [disabled]="registerForm.invalid"
            >
              Register
            </button>
            <div class="text-center mt-3">
              <a href="#" class="text-primary">I already have an account</a>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
